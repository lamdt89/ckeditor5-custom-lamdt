/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x4796b7}from'ckeditor5/src/core';import{ButtonView as _0x328e26,View as _0x50be1e,Notification as _0x2b68cc}from'ckeditor5/src/ui';import _0x2fff94 from'./exportwordcommand';import _0x244d58 from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x4796b7{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0x2b68cc];}['init'](){const _0x4e2a36=this['editor'],t=_0x4e2a36['t'],_0x5dab9a=_0x4e2a36['config']['get']('exportWord')||{};_0x4e2a36['commands']['add']('exportWord',new _0x2fff94(_0x4e2a36)),_0x4e2a36['ui']['componentFactory']['add']('exportWord',_0x1b83bd=>{const _0x2519ea=_0x4e2a36['commands']['get']('exportWord'),_0x112c2e=new _0x328e26(_0x1b83bd);_0x112c2e['set']({'label':t('Export\x20to\x20Word'),'icon':_0x244d58,'tooltip':!0x0}),_0x112c2e['bind']('isOn','isEnabled')['to'](_0x2519ea,'isBusy','isEnabled'),_0x112c2e['extendTemplate']({'attributes':{'class':[_0x112c2e['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0x52165b=new _0x50be1e();return _0x52165b['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0x112c2e['children']['add'](_0x52165b),this['listenTo'](_0x112c2e,'execute',()=>{_0x4e2a36['execute']('exportWord',_0x5dab9a),_0x4e2a36['editing']['view']['focus']();}),_0x112c2e;});const _0x5caa10=_0x4e2a36['plugins']['get']('CloudServices');if(!0x1===_0x5dab9a['tokenUrl'])this['_token']=null;else{if(_0x5dab9a['tokenUrl'])return _0x5caa10['registerTokenUrl'](_0x5dab9a['tokenUrl'])['then'](_0x592a2a=>{this['_token']=_0x592a2a;});this['_token']=_0x5caa10['token'];}}}